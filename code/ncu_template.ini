# ncu_template.ini â€” minimal, comparative, repeatable

# --- Core overview
section: "SpeedOfLight"
metrics:
  sm__warps_active.avg.pct_of_peak_sustained_active        # SM efficiency
  smsp__sass_average_branch_targets_threads_uniform.pct     # Control-flow uniformity sanity check

# --- Stall reasons (top offenders)
section: "StallReasons"
metrics:
  smsp__warp_issue_stalled_barrier_per_warp_active.pct
  smsp__warp_issue_stalled_dependency_per_warp_active.pct
  smsp__warp_issue_stalled_memory_throttle_per_warp_active.pct
  smsp__warp_issue_stalled_long_scoreboard_per_warp_active.pct
  smsp__warp_issue_stalled_short_scoreboard_per_warp_active.pct
  smsp__warp_issue_stalled_math_pipe_throttle_per_warp_active.pct
  smsp__warp_issue_stalled_imc_miss_per_warp_active.pct     # L2/FB miss pressure proxy

# --- Memory throughput & balance
section: "Memory"
metrics:
  lts__throughput.avg.pct_of_peak_sustained_elapsed         # L2 %
  lts__t_sectors_aperture_sysmem_op_read.sum
  lts__t_sectors_aperture_sysmem_op_write.sum
  l1tex__t_bytes.sum
  dram__throughput.avg.pct_of_peak_sustained_elapsed        # DRAM %
  dram__bytes.sum
  smsp__sass_average_data_bytes_per_sector_mem_global_ld.pct
  smsp__sass_average_data_bytes_per_sector_mem_global_st.pct

# --- Launch geometry & occupancy drivers
section: "Occupancy"
metrics:
  sm__maximum_warps_per_active_cu.avg
  sm__warps_active.avg
  sm__ctas_active.avg
  launch__registers_per_thread
  launch__shared_mem_per_block
  launch__block_size
  launch__grid_size

# --- Cache hit snapshots (quick)
section: "Cache"
metrics:
  l1tex__t_sectors_pipe_lsu_mem_global_op_ld_lookup_hit_rate.pct
  l1tex__t_sectors_pipe_lsu_mem_global_op_st_lookup_hit_rate.pct
  lts__t_sectors_op_read_hit_rate.pct
  lts__t_sectors_op_write_hit_rate.pct
